{% extends "layouts/base.html" %} {% load crispy_forms_tags %} {% block title %}
{{ title|title }} {% endblock title %}

<!-- Specific CSS Plugins goes HERE  -->
{% block css_plugins %}


{% endblock css_plugins %}

<!-- Specific Page CSS goes HERE  -->
{% block stylesheets %} {% endblock stylesheets %} {% block content %}

<div class="content-wrapper dashboard_background">
	 {% include "includes/notifications_modal.html" %}
  <div class="row">
    <div class="col-md-4 grid-margin">
		
		<!-- Personal Info -->
		<div class="card" style="margin-bottom: 10px; margin-top: 45px;">
			<div class="card-body" >
				<div style="margin-top: -0.5em; justify-content: center;" class="wrapper d-flex">
					<fieldset style="align-items: center; border: none">
					{% if beneficiary.profile_photo %}
					<img
						height="70"
						width="70"
						style="border-radius: 6em;"
						class="img-md zoom rounded-square"
						src="{{ beneficiary.profile_photo.url }}"
						alt="Profile image"
					/>

					{% elif beneficiary.profile_photo and beneficiary.gender == 'Male' %}
					<img
						style="border-radius: 0.6em;"
						class="img-xs rounded-square mt-4"
						src="/static/assets/images/faces/male.jpeg"
						alt="Profile image"
					/>

					{% elif not beneficiary.profile_photo and beneficiary.gender == 'Female' %}
					<img
						style=" width:50%; height:50%; margin-left:20%;border-radius: 0.6em; border-radius: 6em; "
						class="img-xs rounded-square mt-4"
						src="/static/assets/images/faces/female.jpeg "
						alt="Profile image"
					/>

					{% else %}
					<img
						style="width:50%; height:50%; margin-left:20%; border-radius: 0.6em; border-radius: 6em; width:20%;"
						class="img-xs rounded-square mt-4"
						src="/static/assets/images/faces/male.jpeg"
						alt="Profile image"
					/>
					{% endif %}
					</fieldset>
				</div>
				<div style="margin-top: -0.5em; justify-content: center;" class="wrapper d-flex">
					<span style="margin-right: 10px; margin-top: 1.2em; ">{{ beneficiary.first_name|title }} {{ beneficiary.last_name|title }}</span>
				</div>
				<div style="margin-top: 5px; justify-content: center;" class="wrapper d-flex">
					<span>{{ beneficiary.date_of_birth }}</span>
				</div>
			
			</div>
		</div>


		<!-- Health Meta Data -->
		<div class="card" style="margin-bottom: 10px;">
			<div class="card-body">
				<div
            class="
              wrapper
              d-flex
              align-items-center
              justify-content-between
              py-2
            "
          >
            <div class="d-flex">
              <div class="wrapper ms-3">
                <small class="text-muted mb-0">Sex: </small>
              </div>
            </div>
            <span style="float: left; margin-right: 10px"
              >{{ beneficiary.sex }}</span
            >
          </div>
			<div
            class="
              wrapper
              d-flex
              justify-content-between
              py-2
              
            "
          >
            <div class="d-flex">
              <div class="wrapper ms-3">
                <small class="text-muted mb-0">Gender: </small>
              </div>
            </div>
            <span style="float: right; margin-right: 10px"
              >{{ beneficiary.gender }}</span
            >
          </div>
			<div
            class="
              wrapper
              d-flex
              align-items-center
              justify-content-between
              py-2
              
            "
          >
            <div class="d-flex">
              <div class="wrapper ms-3">
                <small class="text-muted mb-0">ART Status: </small>
              </div>
            </div>
            <span style="float: right; margin-right: 10px"
              >{{ beneficiary.art_status }}</span
            >
          </div>
          <div
            class="
              wrapper
              d-flex
              align-items-center
              justify-content-between
              py-2
              
            "
          >
            <div class="d-flex">
              <div class="wrapper ms-3">
                <small class="text-muted mb-0">HIV Status: </small>
              </div>
            </div>
            <span style="float: right; margin-right: 10px"
              >{{ beneficiary.hiv_status }}</span
            >
          </div>
          <div
            class="
              wrapper
              d-flex
              align-items-center
              justify-content-between
              py-2
              
            "
          >
            <div class="d-flex">
              <div class="wrapper ms-3">
                <small class="text-muted mb-0">Last VL: </small>
              </div>
            </div>
            <span style="float: right; margin-right: 10px"
              >{{ beneficiary.last_vl }}</span
            >
          </div>
			</div>
		</div>

		<!-- Contact Info -->
		<div class="card" style="margin-bottom: 10px;">
			<div class="card-body">
				<div
				class="
				  wrapper
				  d-flex
				  align-items-center
				  justify-content-between
				  py-2
				  
				"
			  >
				<div class="d-flex">
				  <div class="wrapper ms-3">
					<small class="text-muted mb-0">Email Address: </small>
				  </div>
				</div>
				<span style="float: right; margin-right: 10px"
				  >{{ beneficiary.email }}</span
				>
			  </div>
			  <div
				class="
				  wrapper
				  d-flex
				  align-items-center
				  justify-content-between
				  py-2
				  
				"
			  >
				<div class="d-flex">
				  <div class="wrapper ms-3">
					<small class="text-muted mb-0">Phone Number: </small>
				  </div>
				</div>
				<span style="float: right; margin-right: 10px"
				  >{{ beneficiary.phone_number }}</span
				>
			  </div>
			  <div
				class="
				  wrapper
				  d-flex
				  align-items-center
				  justify-content-between
				  py-2
				  
				"
			  >
				<div class="d-flex">
				  <div class="wrapper ms-3">
					<small class="text-muted mb-0">Education Level: </small>
				  </div>
				</div>
				<span style="float: right; margin-right: 10px"
				  >{{ beneficiary.education_level }}</span
				>
			  </div>
			  <div
				class="
				  wrapper
				  d-flex
				  align-items-center
				  justify-content-between
				  py-2
				  
				"
			  >
				<div class="d-flex">
				  <div class="wrapper ms-3">
					<small class="text-muted mb-0">Home Address: </small>
				  </div>
				</div>
				<span style="float: right; margin-right: 10px"
				  >{{ beneficiary.address }}</span
				>
			  </div>
			</div>
		</div>
		
      <div class="card">
        <div class="card-body">        
                 
          
          <div
            class="
              wrapper
              d-flex
              align-items-center
              justify-content-between
              py-2
              
            "
          >
            <div class="d-flex">
              <div class="wrapper ms-3">
                <small class="text-muted mb-0">Marital Status: </small>
              </div>
            </div>
            <span style="float: right; margin-right: 10px"
              >{{ beneficiary.marital_status }}</span
            >
          </div>
          <div
            class="
              wrapper
              d-flex
              align-items-center
              justify-content-between
              py-2
              
            "
          >
            <div class="d-flex">
              <div class="wrapper ms-3">
                <small class="text-muted mb-0">Spouse Name: </small>
              </div>
            </div>
            <span style="float: right; margin-right: 10px"
              >{{ beneficiary.name_of_spouse }}</span
            >
          </div>
          <div
            class="
              wrapper
              d-flex
              align-items-center
              justify-content-between
              py-2
              
            "
          >
            <div class="d-flex">
              <div class="wrapper ms-3">
                <small class="text-muted mb-0">Number of Children: </small>
              </div>
            </div>
            <span style="float: right; margin-right: 10px"
              >{{ beneficiary.number_of_children }}</span
            >
          </div>
          <div
            class="
              wrapper
              d-flex
              align-items-center
              justify-content-between
              py-2
            "
          >
            <div class="d-flex">
              <div class="wrapper ms-3">
                <small class="text-muted mb-0">Number of Siblings: </small>
              </div>
            </div>
            <span style="float: right; margin-right: 10px"
              >{{ beneficiary.number_of_siblings }}</span
            >
          </div>
        </div>
      </div>
    </div>


	<!-- test -->          
		

	<!-- end test -->
	

    <div class="col-lg-8 grid-margin">
		<div class="row">
			<div class="col-lg-12 grid margin">
				<p>
				
				</p>
				<div class="accordion" id="accordionExample">
				<div class="d-flex justify-content-between">	
				
				<button id="download-medical-report-button" class="btn btn-primary btn-sm text-white" style="border-radius: 2px;">Download</button>
				</div>
					<div class="card" style="margin-top: 10px; 
					border-radius: 2px;
					box-shadow: 0px 3px 15px rgb(0 0 0 / 20%)">
					  <div class="card-header" id="headingOne">
						<h2 class="mt-1" style="font-size: 20px;">
							Last Visit
						</h2>

						<!-- tests -->
						<table class="table">
							
							<thead>
							  <tr>
								<th>Service Name</th>
								<th>Service Facility</th>
								<th>Interaction Date</th>
							  </tr>
							</thead>
							<tbody>
							  <tr>
								<td>{{latest_beneficiary_service.service_name}}</td>
								<td>{{latest_beneficiary_service.facility}}</td>
								<td>{{latest_beneficiary_service.interaction_date|date:"d M Y"}}</td>
							  </tr>
							  
							</tbody>
						  </table>

						  <table class="table" style="margin-top:5%;">
							
							<thead>
							  <tr>
								<th>Service Provider</th>
								<th>Provider Comments</th>
								<th>Supporting Documents</th>
							  </tr>
							</thead>
							<tbody>
							  <tr>
								<td>{{latest_beneficiary_service.service_provider}}</td>
								<td>{{latest_beneficiary_service.service_provider_comments}}</td>
								<td>
									<button type="button" class="btn btn-primary">
										<a href="{{latest_beneficiary_service.documents.url}}" >Supported Document</a>
									</button>
									</td>
							  </tr>
							  
							</tbody>
						  </table>
						<!-- end tests -->
						  			
					  </div>
				  
				
					</div>
				  </div>
			</div>
		</div>
      <div class="row">
        <div class="col-lg-12 grid-margin">
          {% include 'includes/services.html' %}
        </div>
	  </div>
    </div>
  </div>
</div>

{% endblock content %}

<!-- Specific JS Plugins goes HERE  -->
{% block js_plugins %}

<script src="/static/assets/vendors/chart.js/Chart.min.js"></script>
<script src="/static/assets/vendors/bootstrap-datepicker/bootstrap-datepicker.min.js"></script>
<script src="/static/assets/vendors/progressbar.js/progressbar.min.js"></script>


{% endblock js_plugins %}

<!-- Specific Page JS goes HERE  -->
{% block javascripts %}

<script src="/static/assets/js/dashboard.js"></script>
<script src="/static/assets/js/Chart.roundedBarCharts.js"></script>
<script src="/static/assets/js/medical_report_download.js">
</script>

{% endblock javascripts %}
